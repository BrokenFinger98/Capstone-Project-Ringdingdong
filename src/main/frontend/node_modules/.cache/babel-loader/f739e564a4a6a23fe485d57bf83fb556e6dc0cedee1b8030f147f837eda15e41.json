{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import{Logo}from'../../logo.js';import axios from'axios';import'./login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentModule:'login',showData:null,inputValue:''};_this.clearInput=function(){_this.setState({inputValue:''});};_this.handleIdChange=function(event){_this.setState({inputValue:event.target.value});};_this.renderCurrentModule=function(){var currentModule=_this.state.currentModule;switch(currentModule){case'login':return _this.loginFormSet();case'findInfo':return _this.findInfo();default:return null;}};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var dataSet,menu,url,res,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();dataSet={loginId:event.target.loginId.value,password:event.target.password.value};menu=_this.props.menu;url=menu.req;_context.next=6;return axios.post(url,dataSet);case 6:res=_context.sent;if(menu.subject==='로그인'){token=res.data.token;localStorage.setItem('jwtToken',token);alert(localStorage.getItem('jwtToken'));window.location.href=\"/\";}else if(menu.subject===\"아이디 찾기\"){_this.setState({currentModule:'findInfo',showData:res.data.loginId});}else if(menu.subject===\"비밀번호 찾기\"){_this.setState({currentModule:'findInfo',showData:res.data.password});}case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.loginFormSet=function(){var menu=_this.props.menu;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:_this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"loginId\",children:menu.id}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"loginId\",placeholder:menu.id+'를 입력하세요',onChange:_this.handleIdChange,value:_this.state.inputValue,required:true}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:menu.pw}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:menu.inputType,id:\"password\",name:\"password\",placeholder:menu.pw+'를 입력하세요',onChange:_this.handlePwChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:menu.subject}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"nav\",{id:\"bottomNav\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/newAccount\",id:\"newAccount\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/findID\",className:\"findMy\",children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(\"span\",{children:\"  \"}),/*#__PURE__*/_jsx(Link,{to:\"/findPW\",className:\"findMy\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})]})]})]});};_this.findInfo=function(){window.addEventListener('popstate',function(){_this.setState({currentModule:'login'});_this.renderCurrentModule();});return/*#__PURE__*/_jsxs(\"div\",{id:\"loginForm\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[_this.props.menu.subject,\" \\uACB0\\uACFC\"]}),/*#__PURE__*/_jsx(\"div\",{children:_this.state.showData})]});};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var menu=this.props.menu;return/*#__PURE__*/_jsxs(\"div\",{className:\"containerBox\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Logo,{})}),/*#__PURE__*/_jsx(\"h2\",{children:menu.subject}),/*#__PURE__*/_jsx(\"div\",{id:\"loginForm\",children:this.renderCurrentModule()})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"names":["React","Component","Link","Logo","axios","jsx","_jsx","jsxs","_jsxs","LoginForm","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","currentModule","showData","inputValue","clearInput","setState","handleIdChange","event","target","value","renderCurrentModule","loginFormSet","findInfo","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dataSet","menu","url","res","token","wrap","_callee$","_context","prev","next","preventDefault","loginId","password","props","req","post","sent","subject","data","localStorage","setItem","alert","getItem","window","location","href","stop","_x","onSubmit","children","htmlFor","id","type","name","placeholder","onChange","required","pw","inputType","handlePwChange","to","className","addEventListener","_createClass","key","render"],"sources":["/Users/yu-sun00/Desktop/세종대/4-2학기/캡스톤/capstone/src/main/frontend/src/components/login/login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {Logo} from '../../logo.js';\nimport axios from 'axios';\nimport './login.css';\n\nclass LoginForm extends Component {\n    \n    state = {\n        currentModule : 'login',\n        showData : null,\n        inputValue : '',\n    }\n\n    clearInput = () => {\n        this.setState({inputValue: ''})\n    }\n    \n    handleIdChange = (event) => {\n        this.setState({inputValue : event.target.value})\n    }\n\n    renderCurrentModule = () => {\n        const { currentModule } = this.state;\n        switch (currentModule) {\n          case 'login':\n            return this.loginFormSet();\n          case 'findInfo':\n            return this.findInfo();\n          default:\n            return null;\n        }\n      };\n\n    handleSubmit = async (event) => {\n        event.preventDefault();\n        const dataSet = {\n            loginId : event.target.loginId.value,\n            password : event.target.password.value\n        };\n        const menu = this.props.menu;\n        const url = menu.req;\n\n        const res = await axios.post(url,dataSet);\n\n        if (menu.subject === '로그인'){\n            const token = res.data.token;\n            localStorage.setItem('jwtToken', token);\n            \n            alert(localStorage.getItem('jwtToken'));\n            window.location.href = \"/\";\n        }\n        else if(menu.subject === \"아이디 찾기\"){\n            this.setState({currentModule:'findInfo', showData:res.data.loginId})\n        \n        }else if(menu.subject ===\"비밀번호 찾기\"){\n            this.setState({currentModule:'findInfo', showData:res.data.password})\n        }\n    }\n\n\n    loginFormSet = () =>{\n        const menu = this.props.menu;\n        return (<form onSubmit={this.handleSubmit}>\n            <label htmlFor=\"loginId\">{menu.id}</label><br/>\n            <input\n                type=\"text\"\n                id=\"username\"\n                name=\"loginId\"\n                placeholder={menu.id+'를 입력하세요'}\n                onChange={this.handleIdChange}\n                value = {this.state.inputValue}\n                required\n            /><p/>\n            <br/>\n            <label htmlFor=\"password\">{menu.pw}</label><br/>\n            <input\n                type={menu.inputType}\n                id=\"password\"\n                name=\"password\"\n                placeholder={menu.pw+'를 입력하세요'}\n                onChange={this.handlePwChange}\n                required\n            /><br/><br/><br/><br/>\n            <button type=\"submit\">{menu.subject}</button>\n            <br/><br/><br/>\n            <nav id=\"bottomNav\">\n                <li><Link to=\"/newAccount\" id=\"newAccount\">회원가입</Link></li>\n                <li>\n                    <Link to=\"/findID\" className=\"findMy\">아이디 찾기</Link>\n                    <span>  </span>\n                    <Link to=\"/findPW\" className=\"findMy\">비밀번호 찾기</Link>\n                </li>\n            </nav>\n        </form>);\n    }\n\n    findInfo = () =>{\n        window.addEventListener('popstate', ()=>{\n            this.setState({currentModule:'login'});\n            this.renderCurrentModule();\n        }\n            );\n        return(\n                <div id=\"loginForm\">\n                    <h4>{this.props.menu.subject} 결과</h4>\n                    <div>{this.state.showData}</div>\n                </div>\n        );\n    }\n\n    \n    render() {\n        const {menu} = this.props;\n\n        return (\n            <div className=\"containerBox\">\n                <Link to = '/'><Logo/></Link>\n                <h2>{menu.subject}</h2>\n                <div id=\"loginForm\">\n                    {this.renderCurrentModule()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default LoginForm;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}