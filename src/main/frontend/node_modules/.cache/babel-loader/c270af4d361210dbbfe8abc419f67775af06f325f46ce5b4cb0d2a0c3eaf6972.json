{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./board.css';import React,{Component}from'react';import{Frame,Banner,ContentNav,Footer}from'../frame/frame.js';import{Link}from'react-router-dom';import axios from'axios';/* \nconst testData = [{\n    id : '1',\n    title :'제목',\n    writer : \"작성자\",\n    modifiedTime : '00:00:00'\n}];*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Board=/*#__PURE__*/function(_Component){_inherits(Board,_Component);var _super=_createSuper(Board);function Board(){var _this;_classCallCheck(this,Board);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:null,//testData\n양식:{id:'글 번호',title:'제목',writer:'작성자',modifiedTime:'수정 시간'},page:0,size:10};_this.getDataFromDB=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(page,size){var url,getToken,axiosConfig,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"/board?page=\".concat(page,\"&size=\").concat(size);getToken=function getToken(){return localStorage.getItem('jwtToken');};axiosConfig={headers:{Authorization:\"Bearer \".concat(getToken())}};console.log(axiosConfig);_context.next=6;return axios.post(url,undefined,axiosConfig);case 6:res=_context.sent;_this.setState({data:res.data});case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.게시글=function(data){var url='/post?id='+data.id;return/*#__PURE__*/_jsxs(\"div\",{className:\"displayRow \\uAC8C\\uC2DC\\uAE00\",children:[/*#__PURE__*/_jsx(\"div\",{children:data.id}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:url,children:data.title})}),/*#__PURE__*/_jsx(\"div\",{children:data.writer}),/*#__PURE__*/_jsx(\"div\",{children:data.modifiedTime})]});};_this.renderPage=function(){var pageItems=[];var _loop=function _loop(){var number=i;pageItems.push(/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this.getDataFromDB(number,_this.state.size);},children:number},number));};for(var i=1;i<11;i++){_loop();}return/*#__PURE__*/_jsx(\"ul\",{className:\"selectPage\",children:pageItems});};return _this;}_createClass(Board,[{key:\"render\",value:function render(){var _this2=this;this.getDataFromDB(0,10);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Frame,{}),/*#__PURE__*/_jsx(Banner,{name:'커뮤니티'}),/*#__PURE__*/_jsx(ContentNav,{name:'커뮤니티'}),/*#__PURE__*/_jsxs(\"div\",{className:\"communityContentBox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:'커뮤니티'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"\\uC591\\uC2DD\",children:this.게시글(this.state.양식)}),this.state.data.map(function(data){return _this2.게시글(data);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),this.renderPage(),/*#__PURE__*/_jsx(Link,{to:\"/writing\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btnWriting\",children:\"\\uAE00\\uC4F0\\uAE30\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Board;}(Component);export default Board;","map":{"version":3,"names":["React","Component","Frame","Banner","ContentNav","Footer","Link","axios","jsx","_jsx","jsxs","_jsxs","Board","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","data","양식","id","title","writer","modifiedTime","page","size","getDataFromDB","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","getToken","axiosConfig","res","wrap","_callee$","_context","prev","next","localStorage","getItem","headers","Authorization","console","log","post","undefined","sent","setState","stop","_x","_x2","게시글","className","children","to","renderPage","pageItems","_loop","number","i","push","onClick","_createClass","key","value","render","_this2","name","map"],"sources":["/Users/yu-sun00/Desktop/세종대/4-2학기/캡스톤/capstone/src/main/frontend/src/components/community/board.js"],"sourcesContent":["import './board.css';\nimport React, { Component } from 'react';\nimport {Frame, Banner, ContentNav, Footer} from '../frame/frame.js';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\n/* \nconst testData = [{\n    id : '1',\n    title :'제목',\n    writer : \"작성자\",\n    modifiedTime : '00:00:00'\n}];*/\n\nclass Board extends Component{\n    state = {\n        data : null, //testData\n        양식 : {\n            id : '글 번호',\n            title : '제목',\n            writer : '작성자',\n            modifiedTime : '수정 시간'\n        },\n        page:0,\n        size:10,\n    }\n    \n    getDataFromDB = async (page,size) =>{\n        const url = `/board?page=${page}&size=${size}`;\n\n        const getToken = () => {\n            return localStorage.getItem('jwtToken');\n        };\n        \n        const axiosConfig = {\n            headers: {\n                Authorization: `Bearer ${getToken()}`,\n            },\n        };\n\n        console.log(axiosConfig);\n\n        const res = await axios.post(url,undefined,axiosConfig);\n        this.setState({data:res.data});\n    }\n    \n    \n    \n\n    게시글 = (data) => {   \n        const url = '/post?id=' + data.id;\n        return (\n        <div className='displayRow 게시글'>\n            <div>{data.id}</div>\n            <div>\n                <Link to={url}>{data.title}</Link>\n            </div>\n            <div>{data.writer}</div>\n            <div>{data.modifiedTime}</div>\n        </div>\n        );\n    }\n    \n    renderPage = ()=>{\n        const pageItems = [];\n        for (let i = 1; i < 11; i++) {\n        const number = i;\n        pageItems.push(\n            <li key={number} onClick={() => this.getDataFromDB(number, this.state.size)}>\n            {number}\n            </li>\n        );\n        }\n        return (<ul className=\"selectPage\">{pageItems}</ul>);\n    }\n\n    render(){   \n        this.getDataFromDB(0,10);\n        return(\n        <div>\n            <Frame/>\n            <Banner name={'커뮤니티'}/>\n            <ContentNav name={'커뮤니티'}/>\n            <div className='communityContentBox'>\n                <h1>{'커뮤니티'}</h1>\n                    <div>\n                        <div className=\"양식\">\n                        {this.게시글(this.state.양식)}\n                        </div>\n                        {this.state.data.map((data) => this.게시글(data))}\n                    </div>\n                    <br/><br/>\n                        {this.renderPage()}\n                    <Link to=\"/writing\">\n                    <button className =\"btnWriting\">글쓰기</button>\n                    </Link>\n            </div>\n            <Footer/>\n        </div>\n        );\n    }\n}\n\nexport default Board;\n\n\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}