{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/yu-sun00/Desktop/\\u1109\\u1166\\u110C\\u1169\\u11BC\\u1103\\u1162/4-2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB/capstone/src/main/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./board.css';import React,{Component}from'react';import{Frame,Banner,ContentNav,Footer}from'../frame/frame.js';import{Link,redirect}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Board=/*#__PURE__*/function(_Component){_inherits(Board,_Component);var _super=_createSuper(Board);function Board(){var _this;_classCallCheck(this,Board);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:null,양식:{id:'글 번호',title:'제목',writer:'작성자',modifiedTime:'수정 시간'},page:0,size:10};_this.getDataFromDB=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(page,size){var url,axiosConfig,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"/board?page=\".concat(page,\"&size=\").concat(size);axiosConfig={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('jwtToken'))}};_context.next=4;return axios.get(url,axiosConfig);case 4:res=_context.sent;_this.setState({data:res.data.content});case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.게시글=function(data){var url='/post?id='+data.id;return/*#__PURE__*/_jsxs(\"div\",{className:\"displayRow \\uAC8C\\uC2DC\\uAE00\",children:[/*#__PURE__*/_jsx(\"div\",{children:data.id}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:url,children:data.title})}),/*#__PURE__*/_jsx(\"div\",{children:data.writer}),/*#__PURE__*/_jsx(\"div\",{children:data.modifiedTime})]});};_this.renderPage=function(){var pageItems=[];var _loop=function _loop(){var number=i;pageItems.push(/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return _this.getDataFromDB(number-1,_this.state.size);},children:number},number));};for(var i=1;i<11;i++){_loop();}return/*#__PURE__*/_jsx(\"ul\",{className:\"selectPage\",children:pageItems});};return _this;}_createClass(Board,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDataFromDB(0,10);}},{key:\"render\",value:function render(){var _this2=this;if(!localStorage.getItem('jwtToken')){alert('접근 권한이 없습니다.');window.location.href='/';}var data=this.state.data;if(data===null||data===undefined){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Frame,{}),/*#__PURE__*/_jsx(Banner,{name:'커뮤니티'}),/*#__PURE__*/_jsx(ContentNav,{name:'커뮤니티'}),/*#__PURE__*/_jsxs(\"div\",{className:\"communityContentBox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:'커뮤니티'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"\\uC591\\uC2DD\",children:this.게시글(this.state.양식)}),data.map(function(dataPartial){return _this2.게시글(dataPartial);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),this.renderPage,/*#__PURE__*/_jsx(Link,{to:\"/writing\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btnWriting\",children:\"\\uAE00\\uC4F0\\uAE30\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Board;}(Component);export default Board;","map":{"version":3,"names":["React","Component","Frame","Banner","ContentNav","Footer","Link","redirect","axios","jsx","_jsx","jsxs","_jsxs","Board","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","data","양식","id","title","writer","modifiedTime","page","size","getDataFromDB","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","axiosConfig","res","wrap","_callee$","_context","prev","next","headers","Authorization","localStorage","getItem","get","sent","setState","content","stop","_x","_x2","게시글","className","children","to","renderPage","pageItems","_loop","number","i","push","onClick","_createClass","key","value","componentDidMount","render","_this2","alert","window","location","href","undefined","name","map","dataPartial"],"sources":["/Users/yu-sun00/Desktop/세종대/4-2학기/캡스톤/capstone/src/main/frontend/src/components/community/board.js"],"sourcesContent":["import './board.css';\nimport React, { Component } from 'react';\nimport {Frame, Banner, ContentNav, Footer} from '../frame/frame.js';\nimport { Link, redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nclass Board extends Component{\n    state = {\n        data : null,\n        양식 : {\n            id : '글 번호',\n            title : '제목',\n            writer : '작성자',\n            modifiedTime : '수정 시간'\n        },\n        page:0,\n        size:10,\n    }\n    \n    componentDidMount() {\n        this.getDataFromDB(0, 10);\n    }\n\n    getDataFromDB = async (page,size) =>{\n        const url = `/board?page=${page}&size=${size}`;\n        const axiosConfig = {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,\n            },\n        };\n        const res = await axios.get(url,axiosConfig);\n        this.setState({data:res.data.content});\n    }\n    \n\n    게시글 = (data) => {   \n        const url = '/post?id=' + data.id;\n        return (\n        <div className='displayRow 게시글'>\n            <div>{data.id}</div>\n            <div>\n                <Link to={url}>{data.title}</Link>\n            </div>\n            <div>{data.writer}</div>\n            <div>{data.modifiedTime}</div>\n        </div>\n        );\n    }\n    \n    renderPage = ()=>{\n        const pageItems = [];\n        for (let i = 1; i < 11; i++) {\n        const number = i;\n        pageItems.push(\n            <li key={number} onClick={() => this.getDataFromDB(number-1, this.state.size)}>\n            {number}\n            </li>\n        );\n        }\n        return (<ul className=\"selectPage\">{pageItems}</ul>);\n    }\n\n    render(){\n        if (!localStorage.getItem('jwtToken')){\n            alert('접근 권한이 없습니다.');\n            window.location.href='/';\n        }\n        const { data } = this.state;\n        if (data === null || data === undefined) {\n            return <p>Loading...</p>;\n        }\n\n        return(\n        <div>\n            <Frame/>\n            <Banner name={'커뮤니티'}/>\n            <ContentNav name={'커뮤니티'}/>\n            <div className='communityContentBox'>\n                <h1>{'커뮤니티'}</h1>\n                    <div>\n                        <div className=\"양식\">\n                        {this.게시글(this.state.양식)}\n                        </div>\n                        {data.map((dataPartial) => this.게시글(dataPartial))}\n                    </div>\n                    <br/><br/>\n                        {this.renderPage}\n                    <Link to=\"/writing\">\n                    <button className =\"btnWriting\">글쓰기</button>\n                    </Link>\n            </div>\n            <Footer/>\n        </div>\n        );\n    }\n}\n\nexport default Board;\n\n\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}